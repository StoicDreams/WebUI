"use strict";export function log(message){console.log(message,TimeStamp())}function TimeStamp(){const now=Date.now(),milliseconds=Math.floor(now%1e3),seconds=Math.floor(now/1e3%60),minutes=Math.floor(now/1e3/60%60);return[pad(Math.floor(now/1e3/60/60%24)),pad(minutes),pad(seconds),pad(milliseconds)].join(":");function pad(number){return number<10?`0${number}`:number}}const GLOBALDATA={};export function set_global_data(key,data){GLOBALDATA[key]=data}export function get_global_data(key){return GLOBALDATA[key]??""}export function get_uuid(){try{return crypto.randomUUID()}catch(ex){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){let r=16*Math.random()|0;return("x"==c?r:3&r|8).toString(16)}))}}export async function webui_fetch(url,jsonIn,useCors){let options=JSON.parse(jsonIn);useCors&&(options.credentials="include",options.mode="cors",options.referrerPolicy="origin-when-cross-origin");let result=await fetch(url,options),headers=result.headers,status=result.status,body=await result.text();return JSON.stringify({headers:headers,status:status,body:body})}